<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>管理员</title>
    <link rel="stylesheet" href="../third-party/bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/admin.css">
    <script src="../third-party/jquery/jquery-3.2.1.js"></script>
    <script src="../third-party/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <script src="../third-party/bootstrap-paginator-master/src/bootstrap-paginator.js"></script>
    <script src="../js/admin.js"></script>
    <script src="../third-party/jquery/js-cookie-1.5.1/src/js.cookie.js"></script>
</head>
<body  style="background: #5bb75b">
    <div class="container login">
        <div class="row"  style="background: #9B859D">
            <div class="col-sm-offset-3">
                <h3 style="color: slateblue">管理员权限申请</h3>
            </div>
        </div>
        <div class="row center-block">
            <div class="form-group">
                <label for="username">管理员帐号</label>
                <input class="form-control" id="username" type="text">
            </div>
            <div class="form-group">
                <label for="password">管理员密码</label>
                <input type="password" id="password" class="form-control">
            </div>
            <button id="submit_id" type="submit" class="btn btn-default">登录</button>
        </div>
    </div>

    <script>
        $("#submit_id").click(function(){
            var json_data = {
                "username": $("#username").val(),
                "password": $("#password").val()
            };
            $.ajax({
            url: "../management/login/",
            type: "post",
            contentType: "application/json",
            headers: {"X-CSRFToken": Cookies.get('csrftoken')},
            dataType: "json",
            data: JSON.stringify(json_data),
            success: function(result, status){
                if (result === true) {
                    window.location.href="./main.html";
                }else
                {
                    alert("对不起，您不是管理员");
                }
            },
            statusCode: {
                200: function(){

                }
            }
        });
        });
    </script>
</body>
</html>